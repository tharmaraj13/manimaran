<app-header></app-header>
<app-sidebar></app-sidebar>
<!--start page wrapper -->
<div class="page-wrapper">
    <div class="page-content">
        <div class="card">
            <div class="card-body p-4">
                <h5 class="card-title">Add New Consignment</h5>
                <hr />
                <div class="form-body mt-4">
                    <div class="row">
                        <div class="col-lg-12">

                            <form class="row g-3" [formGroup]="myForm" (ngSubmit)="onSubmit()">
                                <div class="border border-3 p-4 rounded">
                                    <h5>Loading Details</h5>
                                    <div class="row g-3">
                                        <div class="col-md-4">
                                            <label for="load_date" class="form-label">Date</label>
                                            <input type="date" class="form-control" id="load_date"
                                                formControlName="load_date">
                                            <small
                                                *ngIf="myForm.get('load_date').errors && myForm.get('load_date').touched"><i
                                                    class="bi bi-exclamation-circle"></i> Load Date is required</small>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="lorry_no" class="form-label">Lorry No</label>
                                            <select class="form-select" id="lorry_no" formControlName="lorry_no">
                                                <option value="" hidden>Select Lorry No</option>
                                                <option *ngFor="let vend of prod_names" value="{{vend.id}}">
                                                    {{vend.name}}
                                                </option>
                                            </select>
                                            <small
                                                *ngIf="myForm.get('lorry_no').errors && myForm.get('lorry_no').touched"><i
                                                    class="bi bi-exclamation-circle"></i> Lorry Details is
                                                required</small>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="load_type" class="form-label">Load Type</label>
                                            <input type="text" class="form-control" id="load_type"
                                                formControlName="load_type">
                                            <small
                                                *ngIf="myForm.get('load_type').errors && myForm.get('load_type').touched"><i
                                                    class="bi bi-exclamation-circle"></i> Load Type is required</small>
                                        </div>
                                        
                                        <div class="col-md-4">
                                            <label for="from" class="form-label">From Location</label>
                                            <input type="text" class="form-control" id="from" formControlName="from"
                                            autocomplete="off" list="countrydata" role="combobox">
                                            <!-- <section class="search-results">
                                                <p (click)="autofill($event)" *ngFor="let loc of flocations">{{loc.name}}</p>
                                            </section> -->
                                            <datalist id="countrydata" role="listbox">
                                                <option className="my-option" *ngFor="let loc of locations1">{{loc.name}}</option>
                                            </datalist>
                                            <small *ngIf="myForm.get('from').errors && myForm.get('from').touched"><i
                                                    class="bi bi-exclamation-circle"></i> From Location is
                                                required</small>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="to" class="form-label">To Location</label>
                                            <input type="text" class="form-control" id="to" formControlName="to"
                                            autocomplete="off" list="countrydata1" role="combobox">
                                            <!-- <section class="search-results">
                                                <p (click)="autofill1($event)" *ngFor="let loc of tlocations">{{loc.name}}</p>
                                            </section> -->
                                            <datalist id="countrydata1" role="listbox">
                                                <option className="my-option" *ngFor="let loc of locations1">{{loc.name}}</option>
                                            </datalist>
                                            <small *ngIf="myForm.get('to').errors && myForm.get('to').touched"><i
                                                    class="bi bi-exclamation-circle"></i> To Location is
                                                required</small>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="office_no" class="form-label">Office No</label>
                                            <select class="form-select" id="office_no" formControlName="office_no">
                                                <option value="" hidden>Select Office No</option>
                                                <option *ngFor="let vend of office_names" value="{{vend.id}}">
                                                    {{vend.name}}
                                                </option>
                                            </select>
                                            <small
                                                *ngIf="myForm.get('office_no').errors && myForm.get('office_no').touched"><i
                                                    class="bi bi-exclamation-circle"></i> Office Details is
                                                required</small>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="weight" class="form-label">Weight (in Tons)</label>
                                            <input type="number" class="form-control" id="weight"
                                                formControlName="weight">
                                            <small
                                                *ngIf="myForm.get('weight').errors && myForm.get('weight').touched"><i
                                                    class="bi bi-exclamation-circle"></i> Weight is required</small>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="freight" class="form-label">Freight Charges</label>
                                            <input type="number" class="form-control" id="freight" (change)="balance_amt()"
                                                formControlName="freight">
                                            <small
                                                *ngIf="myForm.get('freight').errors && myForm.get('freight').touched"><i
                                                    class="bi bi-exclamation-circle"></i> Freight Charges is required</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="border border-3 p-4 rounded">
                                    <h5>Advance Details</h5>
                                    <div class="row g-3">
                                        <div class="col-md-4">
                                            <label for="advance_date" class="form-label">Advance Date</label>
                                            <input type="date" class="form-control" id="advance_date"
                                                formControlName="advance_date">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="advance_amt" class="form-label">Advance Amount</label>
                                            <input type="number" class="form-control" id="advance_amt" (change)="balance_amt()"
                                                formControlName="advance_amt">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="advance_paid" class="form-label">Advance Paid</label>
                                            <input type="number" class="form-control" id="advance_paid"
                                                formControlName="advance_paid">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="commission" class="form-label">Commission</label>
                                            <input type="number" class="form-control" id="commission"
                                                formControlName="commission">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="loading_charge" class="form-label">Loading Charge</label>
                                            <input type="number" class="form-control" id="loading_charge"
                                                formControlName="loading_charge">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="mamul" class="form-label">Mamul</label>
                                            <input type="number" class="form-control" id="mamul"
                                                formControlName="mamul">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="account_name_ad" class="form-label">Account Name</label>
                                            <input type="text" class="form-control" id="account_name_ad"
                                                formControlName="account_name_ad">
                                        </div>
                                    </div>
                                </div>
                                <div class="border border-3 p-4 rounded">
                                    <h5>Payment Details</h5>
                                    <div class="row g-3">
                                        <div class="col-md-4">
                                            <label for="delivery_date" class="form-label">Received Sent</label>
                                            <input type="date" class="form-control" id="delivery_date"
                                                formControlName="delivery_date">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="payment_date" class="form-label">Payment Date</label>
                                            <input type="date" class="form-control" id="payment_date"
                                                formControlName="payment_date">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="remarks" class="form-label">Remarks</label>
                                            <input type="text" class="form-control" id="remarks"
                                                formControlName="remarks">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="balance" class="form-label">Balance Amount</label>
                                            <input type="text" class="form-control" id="balance"
                                                formControlName="balance" readonly>
                                        </div>
                                        <div class="col-md-4">
                                            <label for="payment_amt" class="form-label">Paid Amount</label>
                                            <input type="number" class="form-control" id="payment_amt"
                                                formControlName="payment_amt">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="account_name" class="form-label">Account Name</label>
                                            <input type="text" class="form-control" id="account_name"
                                                formControlName="account_name">
                                        </div>
                                        <div class="col-md-4">
                                            <label for="other_amt" class="form-label">Other Charges</label>
                                            <input type="text" class="form-control" id="other_amt"
                                                formControlName="other_amt">
                                        </div>
                                    </div>
                                </div>
                                <div class="row g-3 mt-3">
                                    <div class="col-md-4">
                                        <div class="d-grid">
                                            <button type="submit" class="btn btn-light">Save Consignment</button>
                                        </div>
                                    </div>
                                </div>

                            </form>

                        </div>
                    </div><!--end row-->
                </div>
            </div>
        </div>

    </div>
</div>
<!--end page wrapper -->
<app-footer></app-footer>